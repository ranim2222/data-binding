<div class="auth-wrapper">
  <div class="auth-container">
    <!-- Carte de gauche avec branding -->
    <div class="auth-brand">
      <div class="brand-content">
        <div class="logo">
          <span class="logo-icon">âš¡</span>
          <span class="logo-text">MonApp</span>
        </div>
        <h1>Bienvenue !</h1>
        <p class="brand-description">
          Rejoignez des milliers d'utilisateurs qui utilisent dÃ©jÃ  notre plateforme pour gÃ©rer leurs projets efficacement.
        </p>
        <div class="testimonial">
          <div class="testimonial-avatars">
            <span class="avatar">ğŸ‘¤</span>
            <span class="avatar">ğŸ‘¤</span>
            <span class="avatar">ğŸ‘¤</span>
          </div>
          <p class="testimonial-text">"Une plateforme incroyable !"</p>
        </div>
      </div>
    </div>

    <!-- Carte de droite avec formulaire -->
    <div class="auth-card">
      <!-- Bouton retour -->
      <button class="back-btn" routerLink="/home">
        <span class="back-icon">â†</span> Retour
      </button>

      <!-- En-tÃªte du formulaire -->
      <div class="auth-header">
        <h2>CrÃ©er un compte</h2>
        <p class="auth-subtitle">Remplissez vos informations pour commencer</p>
      </div>
      
      <!-- Formulaire -->
      <form [formGroup]="authForm" (ngSubmit)="onSubmit()" class="auth-form">
        
        <!-- Ligne Nom et PrÃ©nom -->
        <div class="form-row">
          <!-- Nom -->
          <div class="form-group">
            <label for="nom">
              <span class="label-icon">ğŸ‘¤</span>
              Nom
            </label>
            <div class="input-wrapper">
              <input 
                type="text" 
                id="nom"
                formControlName="nom" 
                class="form-control"
                [class.is-invalid]="nom?.invalid && nom?.touched"
                placeholder="Dupont"
              >
              <span class="input-focus-border"></span>
            </div>
            <div class="error-message" *ngIf="nom?.invalid && nom?.touched">
              <span class="error-icon">âš ï¸</span>
              <span *ngIf="nom?.errors?.['required']">Le nom est requis</span>
              <span *ngIf="nom?.errors?.['minlength']">Minimum 2 caractÃ¨res</span>
            </div>
          </div>

          <!-- PrÃ©nom -->
          <div class="form-group">
            <label for="prenom">
              <span class="label-icon">ğŸ‘¤</span>
              PrÃ©nom
            </label>
            <div class="input-wrapper">
              <input 
                type="text" 
                id="prenom"
                formControlName="prenom" 
                class="form-control"
                [class.is-invalid]="prenom?.invalid && prenom?.touched"
                placeholder="Jean"
              >
              <span class="input-focus-border"></span>
            </div>
            <div class="error-message" *ngIf="prenom?.invalid && prenom?.touched">
              <span class="error-icon">âš ï¸</span>
              <span *ngIf="prenom?.errors?.['required']">Le prÃ©nom est requis</span>
              <span *ngIf="prenom?.errors?.['minlength']">Minimum 2 caractÃ¨res</span>
            </div>
          </div>
        </div>
        
        <!-- Email -->
        <div class="form-group">
          <label for="email">
            <span class="label-icon">ğŸ“§</span>
            Email
          </label>
          <div class="input-wrapper">
            <input 
              type="email" 
              id="email"
              formControlName="email" 
              class="form-control"
              [class.is-invalid]="email?.invalid && email?.touched"
              placeholder="jean.dupont@exemple.com"
            >
            <span class="input-focus-border"></span>
          </div>
          <div class="error-message" *ngIf="email?.invalid && email?.touched">
            <span class="error-icon">âš ï¸</span>
            <span *ngIf="email?.errors?.['required']">L'email est requis</span>
            <span *ngIf="email?.errors?.['email']">Format d'email invalide</span>
          </div>
          <div class="success-message" *ngIf="email?.valid && email?.touched">
            <span class="success-icon">âœ“</span>
            Email valide
          </div>
        </div>

        <!-- TÃ©lÃ©phone (optionnel) -->
        <div class="form-group">
          <label for="telephone">
            <span class="label-icon">ğŸ“±</span>
            TÃ©lÃ©phone <span class="optional">(optionnel)</span>
          </label>
          <div class="input-wrapper">
            <input 
              type="tel" 
              id="telephone"
              formControlName="telephone" 
              class="form-control"
              [class.is-invalid]="telephone?.invalid && telephone?.touched"
              placeholder="+33 6 12 34 56 78"
            >
            <span class="input-focus-border"></span>
          </div>
          <div class="error-message" *ngIf="telephone?.invalid && telephone?.touched">
            <span class="error-icon">âš ï¸</span>
            <span *ngIf="telephone?.errors?.['pattern']">Format de tÃ©lÃ©phone invalide</span>
          </div>
        </div>

        <!-- Mot de passe -->
        <div class="form-group">
          <label for="password">
            <span class="label-icon">ğŸ”’</span>
            Mot de passe
          </label>
          <div class="input-wrapper password-wrapper">
            <input 
              [type]="showPassword ? 'text' : 'password'"
              id="password"
              formControlName="password" 
              class="form-control"
              [class.is-invalid]="password?.invalid && password?.touched"
              placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
            >
            <button 
              type="button" 
              class="password-toggle"
              (click)="togglePasswordVisibility()"
            >
              {{ showPassword ? 'ğŸ‘ï¸' : 'ğŸ‘ï¸â€ğŸ—¨ï¸' }}
            </button>
            <span class="input-focus-border"></span>
          </div>
          
          <!-- Force du mot de passe -->
          <div class="password-strength" *ngIf="password?.value && password?.value.length > 0">
            <div class="strength-bar">
              <div class="strength-progress" [style.width]="getPasswordStrength() + '%'"></div>
            </div>
            <span class="strength-text">{{ getPasswordStrengthText() }}</span>
          </div>

          <div class="error-message" *ngIf="password?.invalid && password?.touched">
            <span class="error-icon">âš ï¸</span>
            <span *ngIf="password?.errors?.['required']">Le mot de passe est requis</span>
            <span *ngIf="password?.errors?.['minlength']">Minimum 6 caractÃ¨res</span>
            <span *ngIf="password?.errors?.['pattern']">Doit contenir au moins une lettre et un chiffre</span>
          </div>
        </div>

        <!-- Confirmation mot de passe -->
        <div class="form-group">
          <label for="confirmPassword">
            <span class="label-icon">ğŸ”’</span>
            Confirmer le mot de passe
          </label>
          <div class="input-wrapper">
            <input 
              [type]="showConfirmPassword ? 'text' : 'password'"
              id="confirmPassword"
              formControlName="confirmPassword" 
              class="form-control"
              [class.is-invalid]="confirmPassword?.invalid && confirmPassword?.touched"
              placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
            >
            <button 
              type="button" 
              class="password-toggle"
              (click)="showConfirmPassword = !showConfirmPassword"
            >
              {{ showConfirmPassword ? 'ğŸ‘ï¸' : 'ğŸ‘ï¸â€ğŸ—¨ï¸' }}
            </button>
            <span class="input-focus-border"></span>
          </div>
          <div class="error-message" *ngIf="confirmPassword?.invalid && confirmPassword?.touched">
            <span class="error-icon">âš ï¸</span>
            <span *ngIf="confirmPassword?.errors?.['required']">Veuillez confirmer le mot de passe</span>
            <span *ngIf="confirmPassword?.errors?.['passwordMismatch']">Les mots de passe ne correspondent pas</span>
          </div>
          <div class="success-message" *ngIf="confirmPassword?.valid && confirmPassword?.touched && !confirmPassword?.errors?.['passwordMismatch']">
            <span class="success-icon">âœ“</span>
            Mots de passe identiques
          </div>
        </div>

        <!-- Conditions d'utilisation -->
        <div class="form-group checkbox-group">
          <label class="checkbox-container">
            <input type="checkbox" formControlName="acceptTerms">
            <span class="checkbox-custom"></span>
            <span class="checkbox-label">
              J'accepte les <a href="/terms" target="_blank">conditions d'utilisation</a> et la 
              <a href="/privacy" target="_blank">politique de confidentialitÃ©</a>
            </span>
          </label>
          <div class="error-message" *ngIf="acceptTerms?.invalid && acceptTerms?.touched">
            <span class="error-icon">âš ï¸</span>
            Vous devez accepter les conditions
          </div>
        </div>

        <!-- Newsletter -->
        <div class="form-group checkbox-group">
          <label class="checkbox-container">
            <input type="checkbox" formControlName="newsletter">
            <span class="checkbox-custom"></span>
            <span class="checkbox-label">
              Je souhaite recevoir la newsletter et les offres spÃ©ciales
            </span>
          </label>
        </div>

        <!-- Message d'erreur global -->
        <div class="alert alert-error" *ngIf="errorMessage">
          <span class="alert-icon">âŒ</span>
          <span>{{ errorMessage }}</span>
          <button class="alert-close" (click)="errorMessage = ''">Ã—</button>
        </div>

        <!-- Message de succÃ¨s -->
        <div class="alert alert-success" *ngIf="successMessage">
          <span class="alert-icon">âœ…</span>
          <span>{{ successMessage }}</span>
        </div>

        <!-- Bouton de soumission -->
        <button 
          type="submit" 
          class="btn-submit"
          [disabled]="authForm.invalid || isLoading"
        >
          <span *ngIf="!isLoading" class="btn-text">CRÃ‰ER MON COMPTE</span>
          <span *ngIf="isLoading" class="spinner"></span>
        </button>

        <!-- SÃ©parateur -->
        <div class="separator">
          <span>ou s'inscrire avec</span>
        </div>

        <!-- Connexion sociale -->
        <div class="social-login">
          <button type="button" class="btn-social btn-google" (click)="loginWithGoogle()" [disabled]="isLoading">
            <img src="https://www.google.com/favicon.ico" alt="Google" class="social-icon">
            Google
          </button>
          <button type="button" class="btn-social btn-facebook" (click)="loginWithFacebook()" [disabled]="isLoading">
            <img src="https://www.facebook.com/favicon.ico" alt="Facebook" class="social-icon">
            Facebook
          </button>
          <button type="button" class="btn-social btn-github" (click)="loginWithGithub()" [disabled]="isLoading">
            <span class="social-icon">ğŸ™</span>
            GitHub
          </button>
        </div>
      </form>

      <!-- Lien de connexion -->
      <p class="login-link">
        DÃ©jÃ  un compte ? 
        <a routerLink="/login" class="login-link-btn">Se connecter</a>
      </p>
    </div>
  </div>
</div>